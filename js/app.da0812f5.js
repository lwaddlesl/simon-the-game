(function(){var e={474:function(e,t,n){"use strict";var r=n(144),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("HelloWorld")],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Simon the game")]),n("div",{staticClass:"panels"},[n("div",{ref:"red",staticClass:"red",on:{click:function(t){return e.panelClicked(t,"red.mp3")}}}),n("div",{ref:"blue",staticClass:"blue",on:{click:function(t){return e.panelClicked(t,"blue.mp3")}}}),n("div",{ref:"yellow",staticClass:"yellow",on:{click:function(t){return e.panelClicked(t,"yellow.mp3")}}}),n("div",{ref:"green",staticClass:"green",on:{click:function(t){return e.panelClicked(t,"green.mp3")}}})]),n("div",{staticClass:"buttons"},[e._v(" round:"+e._s(e.sequence.length)+" "),n("div",[n("button",{attrs:{disabled:e.statrted},on:{click:function(t){return e.start(1500)}}},[e._v("Легкий")])]),n("div",[n("button",{attrs:{disabled:e.statrted},on:{click:function(t){return e.start(1e3)}}},[e._v("Нормальный")])]),n("div",[n("button",{attrs:{disabled:e.statrted},on:{click:function(t){return e.start(400)}}},[e._v("Сложный")])]),n("div",[n("button",{attrs:{disabled:!e.statrted},on:{click:e.stop}},[e._v("Стоп")])])])])},c=[],a={data(){return{sequence:[],sequenceTuGuess:[],canClick:!1,time:0,statrted:!1}},watch:{canClick(e){e?this.clickHandler("add"):this.clickHandler("remove")}},methods:{stop(){this.sequence=[],this.canClick=!1,this.statrted=!1},change(){console.log("canClick")},getRandomPanel(){const e=this.$refs.red,t=this.$refs.blue,n=this.$refs.yellow,r=this.$refs.green,i=[e,t,n,r];return i[parseInt(Math.random()*i.length)]},async startFlashing(){this.canClick=!1;for(const e of this.sequence)await this.flash(e);this.canClick=!0,this.sequenceTuGuess=[...this.sequence]},flash(e){return new Promise((t=>{e.classList.toggle("active");var r=new Audio;r.src=n(837)(`./${e.classList[0]}.mp3`),r.autoplay=!0,setTimeout((()=>{e.classList.toggle("active"),setTimeout((()=>{t()}),250)}),this.time)}))},start(e){this.sequence=[this.getRandomPanel()],this.time=e,this.startFlashing(),this.statrted=!0},clickHandler(e){const t=this.$refs.red,n=this.$refs.blue,r=this.$refs.yellow,i=this.$refs.green,s=[t,n,r,i];if("add"==e)for(let o=0;o<s.length;o++)s[o].classList.add("on-click");else for(let o=0;o<s.length;o++)s[o].classList.remove("on-click")},panelClicked(e,t){if(!this.canClick)return;var r=new Audio;r.src=n(173)(`./${t}`),r.autoplay=!0;const i=this.sequenceTuGuess.shift();if(i==e.path[0]){if(0==this.sequenceTuGuess.length)return this.sequence.push(this.getRandomPanel()),new Promise((e=>{this.canClick=!1,setTimeout((()=>{this.startFlashing(),e()}),1e3)}))}else alert("game over"),this.sequence=[],this.canClick=!1,this.statrted=!1}}},l=a,u=n(1),f=(0,u.Z)(l,o,c,!1,null,null,null),d=f.exports,h={name:"App",components:{HelloWorld:d}},p=h,m=(0,u.Z)(p,i,s,!1,null,null,null),v=m.exports;r.Z.config.productionTip=!1,new r.Z({render:e=>e(v)}).$mount("#app")},173:function(e,t,n){var r={"./blue.mp3":957,"./green.mp3":375,"./red.mp3":454,"./yellow.mp3":700};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=173},837:function(e,t,n){var r={"./blue.mp3":957,"./green.mp3":375,"./red.mp3":454,"./yellow.mp3":700};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=837},957:function(e,t,n){"use strict";e.exports=n.p+"media/blue.4439a9af.mp3"},375:function(e,t,n){"use strict";e.exports=n.p+"media/green.049c0e2c.mp3"},454:function(e,t,n){"use strict";e.exports=n.p+"media/red.65e0df3b.mp3"},700:function(e,t,n){"use strict";e.exports=n.p+"media/yellow.f8db31a2.mp3"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,s){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],i=e[u][1],s=e[u][2];for(var c=!0,a=0;a<r.length;a++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[a])}))?r.splice(a--,1):(c=!1,s<o&&(o=s));if(c){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,i,s]}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/simon-the-game/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,s,o=r[0],c=r[1],a=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(a)var u=a(n)}for(t&&t(r);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},r=self["webpackChunksimon_the_game"]=self["webpackChunksimon_the_game"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(474)}));r=n.O(r)})();
//# sourceMappingURL=app.da0812f5.js.map